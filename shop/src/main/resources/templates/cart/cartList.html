<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout2}">

<head>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
</head>

<div layout:fragment="content" class="content-mg">
    <main>
        <section id="container">
            <div class="sub_title_wrap">
                <h2 class="sub_title">
                    shopping bag
                </h2>
            </div>
            <div class="shoppingbag">

                <ul class="step">
                    <li class="active">쇼핑백</li>
                    <li>
                        "주문결제"
                    </li>
                    <li>
                        "주문완료"
                    </li>
                </ul>
                <div class="bag_wrap">
                    <div class="bag_cont">
                        <h3 class="tit first_title">
                            쇼핑백 상품
                            <span>(
                        <em>0</em>
                        )
                    </span>
                        </h3>
                        <table class="cols tbl_product">
                            <colgroup>
                                <col>
                                <col style="width:80px;">
                                <col style="width:150px;">
                                <col style="width:150px;">
                                <col style="width:130px;">
                                <col style="width:30px;">
                            </colgroup>
                            <thead>
                            <tr>
                                <th>
                                <span class="input_button small square">
                                    <input type="checkbox" name="checkAll" id="checkAll" class="check_all"
                                           checked="checked" onclick="WCKBasket.BasketAllSelect(this);">
                                    <label for="checkAll">
                                        <!-- "&nbsp;" -->
                                    </label>
                                </span>
                                    <input type="hidden" id="hdchk" value="0">
                                </th>
                                <th>상품사진</th>
                                <th>수량</th>
                                <th>가격</th>
                                <th>상품이름</th>
                                <th>사이즈</th>
                            </tr>
                            </thead>
                            <tbody>
                            <!-- 상품 목록 -->
                            <tr th:each="cartItem : ${cartItems}">
                                <td>
                                    <input type="checkbox" name="cartChkBox" th:value="${cartItem.cartItemId}">
                                </td>
                                <td>
                                    <!-- 상품 이미지 -->
                                    <img th:src="${cartItem.imgUrl}" th:alt="${cartItem.itemNm}" class="rounded repImg">
                                </td>
                                <td>
                                    <!-- 수량 입력 -->
                                    <input type="number" name="count" th:id="'count_' + ${cartItem.cartItemId}"
                                           th:value="${cartItem.count}" min="1" onchange="changeCount(this)" class="form-control">
                                </td>
                                <td>
                                    <!-- 가격 표시 -->
                                    <span th:id="'price_' + ${cartItem.cartItemId}" th:text="${cartItem.price} + '원'"></span>
                                </td>
                                <td>
                                    <!-- 상품명 표시 -->
                                    <span class="fs24 font-weight-bold" th:text="${cartItem.itemNm}"></span>
                                </td>
                                <td>
                                    <!-- 사이즈 표시 -->
                                    <span th:text="${cartItem.size}"></span>
                                </td>
                                <td>
                                    <!-- 삭제 버튼 -->
                                    <button type="button" aria-label="Close" th:if="${cartItem != null}"
                                            th:data-id="${cartItem.cartItemId}" onclick="deleteCartItem(this)">&times;</button>
                                </td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <!-- 쇼핑백이 비어 있을 때 -->
                            <tr th:if="${cartItems == null or #lists.isEmpty(cartItems)}">
                                <td colspan="7" style="text-align: center;">
                                    쇼핑백에 담긴 상품이 없습니다.
                                </td>
                            </tr>
                            </tfoot>
                        </table>
                        <div class="tbl_uder_box">
                            <div class="bx_btn">
                                <button type="button" name="button" class="btn" onclick="WCKBasket.RemoveBasketAll();">
                                    선택상품삭제
                                </button>
                                <button type="button" name="button" class="btn gray" onclick="history.go(-1);">쇼핑계속하기
                                </button>

                            </div>
                            <div class="shoppingbag_count_limit_notify">
                                <ul class="unorder_list">
                                    <li>
                                        쇼핑백에 상품은 최대 100개까지 담을 수 있습니다.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="payment">
                        <div class="bx_total">
                            <!-- <h3>주문금액 -->
                            <ul>
                                <li>
                                    <strong>총 상품 금액</strong>
                                    <p>
                                        <em th:id="'totalPrice_' + ${cartItem.cartItemId}" name="totalPrice"
                                            th:text="${cartItem.price * cartItem.count} + '원'"></em>

                                    </p>
                                </li>
                                <li>
                                    <strong>배송비</strong>
                                    <p>
                                        <span>+</span>
                                        <em id="counterTotdeliveryamt">0</em>
                                        원
                                    </p>
                                </li>
                                <li class="total">
                                    <strong>총 결제금액</strong>
                                    <p>
                                        <em id="orderTotalPrice" class="text-danger">0원</em>
                                        원
                                    </p>
                                </li>
                                <li class="point">
                                    <strong>적립예정 포인트</strong>
                                    <p>
                                        <em id="counterTotalcybermoney">0</em>
                                        p
                                    </p>
                                </li>
                            </ul>
                            <button type="button" name="button"
                                    onclick="orders()"
                                    class="btn_order">선택상품 주문하기
                            </button>
                            <button type="button" onclick="WCKBasket.NoMemberGiftOrder('cart_order');"
                                    class="btn_gift_selected">선물하기
                            </button>

                        </div>
                    </div>
                </div>
                <div id="buyitwith" data-itemcd>
                    <!-- <h3 class="tit_carousel">Buy it with</h3> -->
                    <div class="lst_carousel about_cont ix-slide-max-apply"
                         data-ix-options="view-length:6; move-length:6; auto-play:false;">

                        <li class="ix-list-item ix-clone" data-origin-idx="13" data-idx="2" aria-hidden="true"
                            style="width: 190px; margin-bottom: 80px; margin-left: 0px; margin-right: 20px; ">
                            <span>--></span></li>
                        <!--
                                                        <div class="img">
                                                            <img src="//product-image.wconcept.co.kr/productimg/image/img1/74/302216874.jpg?RS=300" alt="spring tweed jacket_black">
                                                        </div> -->
                        <div class="text no_front">


                            <div class="ix-controller">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</div>


</html>
